---
layout: single
title:  "λ‹¤μµμ¤νΈλΌμ™€ μ°μ„ μμ„ ν"
excerpt: "λ‹¤μµμ¤νΈλΌ κ°λ…κ³Ό  μ°μ„ μμ„ νλ¥Ό ν™μ©ν• κ°μ„ λ λ‹¤μµμ¤νΈλΌ"

categories:
- Algorithm

tags:
- [Algorithm,Dijkstra,Python, TIL]

date: 2022-09-27
published: true
---

## 'λ‹¤μµμ¤νΈλΌ'λ” λ­κ³  μ™ μ•μ•„μ•Ό ν• κΉ? π¤”

***λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ„ ν™μ©ν•λ©΄ λΉ„κµμ  λΉ λ¥Έ μ‹κ°„λ³µμ΅λ„λ¥Ό λ³΄μ¥ν•λ” μµλ‹¨κ²½λ΅λ¥Ό κµ¬ν•  μ μλ‹¤***
- λ§¤ μƒν™©μ—μ„ κ°€μ¥ λΉ„μ©μ΄ μ μ€ λ…Έλ“λ¥Ό μ„ νƒν•λ” κ³Όμ •μ„ κ±°μΉλ―€λ΅ ***κ·Έλ¦¬λ””*** μ•κ³ λ¦¬μ¦μΌλ΅ λ¶„λ¥λκΈ°λ„ ν•λ‹¤.
- ***μμ κ°€μ¤‘μΉκ°€ μ΅΄μ¬ν•λ‹¤λ©΄ μ‚¬μ©ν•  μ μ—†μ!!***

## λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ λ™μ‘ κ³Όμ •

1. μ¶λ° λ…Έλ“ μ„¤μ •
2. μµλ‹¨ κ±°λ¦¬ ν…μ΄λΈ” μƒμ„±OR μ΄κΈ°ν™”
3. λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“ μ¤‘ μµλ‹¨ κ±°λ¦¬κ°€ κ°€μ¥ μ§§μ€ λ…Έλ“ μ„ νƒ
4. ν•΄λ‹Ή λ…Έλ“λ¥Ό κ±°μ³ λ‹¤λ¥Έ λ…Έλ“λ΅ κ°€λ” λΉ„μ©μ„ κ³„μ‚°ν•μ—¬ μµλ‹¨ κ±°λ¦¬ ν…μ΄λΈ” κ°±μ‹ 
5. 3λ²κ³Ό 4λ² κ³Όμ • λ°λ³µ

μμ„Έν• λ™μ‘κ³Όμ •μ€ [μμ‹μμƒ](https://www.youtube.com/watch?v=acqm9mM1P6o){:target="_blank"}μ„ ν†µν•΄ ν™•μΈν•΄ μ£Όμ‹κΈΈ λ°”λλ‹λ‹¤.  
μμ‹ μμƒ μ¶μ² : 'μ•κ²½μ΅μ΄ κ°λ°μ λ™λΉλ‚' YouTube

## λ‹¤μµμ¤νΈλΌ μ½”λ“(Python)
### without Priority Queue


```python
# A,B,C,D,E λΌλ” μ΄λ¦„μ λ…Έλ“κ°€ μ΅΄μ¬ν•κ³  Aλ…Έλ“μ—μ„ μ¶λ°ν•μ—¬ λ‹¤λ¥Έ λ…Έλ“λ΅ κ°€λ” μµλ‹¨ κ²½λ΅λ¥Ό κµ¬ν•λ” μ½”λ“λ¥Ό λ‹¤μµμ¤νΈλΌλ΅ κµ¬ν„ν•λ©΄ μ•„λμ™€ κ°™λ‹¤
name = 'ABCDE'
inf = int(21e8) 
# λ‹¤λ¥Έ λ…Έλ“λ΅ λ°”λ΅ κ° μ μ—†μ„ κ²½μ° or μ΄κΈ° resultλ¦¬μ¤νΈ μ„Έν… μ‹ μ‚¬μ© λ  λ¬΄ν•λ€ κ°’, μ„μλ΅ 21e8λ΅ μ„¤μ •

arr=[
    [0,3,inf,9,5],
    [inf,0,7,inf,1],
    [inf,inf,0,1,inf],
    [inf,inf,inf,0,inf],
    [inf,inf,1,inf,0],
    ]
used = [0]*5 #λ°©λ¬Έμ²λ¦¬λ¥Ό μ„ν• usedλ°°μ—΄
result = [0,3,inf,9,5] #μ΄κΈ° result λ°°μ—΄ μ„Έν…
used[0] =1 #μ‹μ‘μ  Aμ μΆν‘κ°’ usedν‘κΈ°


# κ²½μ μ§€ μ„ νƒ ν•¨μ
# λΉ„μ©μ΄ μµμ† κ°’μΈ κ²½μ μ§€λ¥Ό μ„ νƒν•κΈ° μ„ν•΄ μ‘μ„±
def select_ky():
    Min = int(21e8)
    minIdx = 0
    for i in range(5):
        if(used[i] ==0 and result[i]<MIn):
            Min = result[i]
            minIdx = i
    return minIdx

def dijkstra():
    for i in range(4):
        via = select_ky() #κ²½μ μ§€ μ„ νƒ
        used[via] = 1 # λ°©λ¬Έμ²λ¦¬
        for j in range(5): # λ¨λ“  μ •μ μ— λ€ν• λΉ„μ© λΉ„κµ
            baro = result[j] # Aλ…Έλ“μ—μ„ Jλ²μ§Έ λ…Έλ“λ΅ λ°”λ΅ κ°€λ” λΉ„μ©
            ky = result[via]+arr[via][j]# Aλ…Έλ“ to κ²½μ μ§€ to Jλ²μ§Έ λ…Έλ“λ΅ κ°€λ” λΉ„μ©
            if baro > ky:
                result[j] = ky # result λ°°μ—΄ μ—…λ°μ΄νΈ
dijkstra()
print(*result) # Aλ…Έλ“μ—μ„ λ‹¤λ¥Έ λ…Έλ“λ΅ κ°€λ¥ μµμ† λΉ„μ©μ΄ λ‹΄κΈ΄ λ¦¬μ¤νΈ

```


## λ‹¤μµμ¤νΈλΌ μ„±λ¥ λ¶„μ„

- O(v)λ²μ— κ±Έμ³ μµλ‹¨ κ±°λ¦¬κ°€ κ°€μ¥ μ§§μ€ λ…Έλ“λ¥Ό λ§¤λ² νƒμƒ‰ν•΄μ•Όν•λ―€λ΅ μ‹κ°„λ³µμ΅λ„λ” ***'O(v^^2)'*** 'V'λ” λ…Έλ“μ κ°μλ¥Ό μλ―Έν•¨. 
- μ „μ²΄ λ…Έλ“μ κ°μκ°€ 5,000κ° μ΄ν• μΌ κ²½μ° λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μμ.

---

> λ…Έλ“μ κ°μκ°€ 10,000κ° μ΄μƒμ΄λΌλ©΄ μ–΄λ–»κ² ν•΄μ•Όν• κΉ?π¤”

**κ°μ„ λ λ‹¤μµμ¤νΈλΌ** λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤. κ°μ„ λ λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ€ μ°μ„ μμ„ νλ¥Ό ν™μ©ν•μ—¬ O(E log V)μ μ‹κ°„λ³µμ΅λ„λ¥Ό κ°–λ”λ‹¤.  
 E = κ°„μ„ μ κ°μ, Vλ” λ…Έλ“μ κ°μλ¥Ό μλ―Έν•¨.


## μ°μ„ μμ„ ν

- μ°μ„ μμ„κ°€ κ°€μ¥ λ†’μ€ λ°μ΄ν„°λ¥Ό κ°€μ¥ λ¨Όμ € μ‚­μ ν•λ” μλ£ κµ¬μ΅°
- Python,C++,Javaλ¥Ό ν¬ν•¨ν• λ€λ¶€λ¶„μ ν”„λ΅κ·Έλλ° μ–Έμ–΄μ—μ„ ν‘μ¤€ λΌμ΄λΈλ¬λ¦¬ ν•νƒλ΅ μ§€μ›ν•¨.

| μλ£ κµ¬μ΅° | μ¶”μ¶λλ” λ°μ΄ν„°  | 
| --- | --- |
| μ¤νƒ(Stack) | κ°€μ¥ λ‚μ¤‘μ— μ‚½μ…λ λ°μ΄ν„°   | 
| ν(Queue) | κ°€μ¥ λ¨Όμ € μ‚½μ…λ λ°μ΄ν„°  | 
| μ°μ„ μμ„ ν<br>(Priority Queue) | κ°€μ¥ μ°μ„ μμ„κ°€ λ†’μ€ λ°μ΄ν„°  |

## ν™(Heap)

- μ°μ„ μμ„ νλ¥Ό κµ¬ν„ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” μλ£ κµ¬μ΅°
- μµμ† ν™(Min Heap) κ³Ό μµλ€ ν™(Max Heap)μ΄ μμ.
- νμ΄μ¬μ κ²½μ° heapq λΌμ΄λΈλ¬λ¦¬μ κΈ°λ³Έ κ°’μ€ μµμ† ν™.
- λ‹¤μµμ¤νΈλΌ μµλ‹¨ κ²½λ΅ μ•κ³ λ¦¬μ¦μ„ ν¬ν•¨ν•΄ λ‹¤μ–‘ν• μ•κ³ λ¦¬μ¦μ— ν™μ©λ¨.

| μ°μ„ μμ„ ν κµ¬ν„ λ°©μ‹ | μ‚½μ… μ‹κ°„  |  μ‚­μ  μ‹κ°„ |
| --- | --- | --- |
| λ¦¬μ¤νΈ |  O(1)   | O(N) |
| ν™ | O(log N) | O(log N) |

## ν™ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ© μμ 

```python
# ν™ μ •λ ¬(Heap Sort)
import heapq

def heapsort(iterable):
    h = []
    result = []
    # λ¨λ“  μ›μ†λ¥Ό μ°¨λ΅€λ€λ΅ ν™μ— μ‚½μ…
    for value in iterable:
        heapq.heappush(h, value)
    for _ in range(len(h)):
        result.append(heapq.heappop(h))
    return result
result = heapsort([1,3,5,7,9,2,4])
print(result)

```
## κ°μ„ λ λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦ κµ¬ν„ λ°©λ²•

- λ‹¨κ³„λ§λ‹¤ λ°©λ¬Έν•μ§€ μ•μ€ λ…Έλ“ μ¤‘μ—μ„ μµλ‹¨ κ±°λ¦¬κ°€ κ°€μ¥ μ§§μ€ λ…Έλ“λ¥Ό μ„ νƒν•κΈ° μ„ν•΄ ν™ μλ£κµ¬μ΅°λ¥Ό ν™μ©
- λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦μ΄ λ™μ‘ν•λ” κΈ°λ³Έμ›λ¦¬λ” λ™μΌν•¨.
    - ν„μ¬ κ°€μ¥ κ°€κΉμ΄ λ…Έλ“λ¥Ό μ €μ¥ν•΄ λ†“κΈ° μ„ν•΄μ„ ν™ μλ£κµ¬μ΅°λ¥Ό μ¶”κ°€μ μΌλ΅ μ΄μ©ν•λ‹¤λ” μ μ΄ λ‹¤λ¦„.

## κ°μ„ λ λ‹¤μµμ¤νΈλΌ μ•κ³ λ¦¬μ¦ μ½”λ“

```python
# A,B,C,D,E λΌλ” μ΄λ¦„μ λ…Έλ“κ°€ μ΅΄μ¬ν•κ³  Aλ…Έλ“μ—μ„ μ¶λ°ν•μ—¬ λ‹¤λ¥Έ λ…Έλ“λ΅ κ°€λ” μµλ‹¨ κ²½λ΅λ¥Ό κµ¬ν•λ” μ½”λ“λ¥Ό λ‹¤μµμ¤νΈλΌλ΅ κµ¬ν„ν•λ©΄ μ•„λμ™€ κ°™λ‹¤
import heapq
inf = int(21e8) 
# λ‹¤λ¥Έ λ…Έλ“λ΅ λ°”λ΅ κ° μ μ—†μ„ κ²½μ° or μ΄κΈ° resultλ¦¬μ¤νΈ μ„Έν… μ‹ μ‚¬μ© λ  λ¬΄ν•λ€ κ°’, μ„μλ΅ 21e8λ΅ μ„¤μ •
n = 5
arr=[
    [0,3,inf,9,5],
    [inf,0,7,inf,1],
    [inf,inf,0,1,inf],
    [inf,inf,inf,0,inf],
    [inf,inf,1,inf,0],
    ]
result = [inf]*n
heap = []

def dijkstra(start):
    heapq.heappush(heap,(0,start)) #  λΉ„μ© '0', κ²½μ§€
    result[start] =0
    while heap:
        sk, k = heapq.heappop(heap)
        if result[k] < sk: continue #κ²½μ μ§€κΉμ§€μ λΉ„μ© κ³Ό resultκ°’ λΉ„κµ,λ°©λ¬Έμ²λ¦¬ λ¦¬μ¤νΈμΈ usedλ°°μ—΄μ„ μ“°μ§€ μ•λ” μ΄μ 
        for i in len(arr[k]):
            cost = sk+arr[k][i]
            if cost < result[i]:
                result[i] = cost
                heapq.heappush(heap,(cost,0))
dijkstra(start)
print(*result)

```
- κΈ°μ΅΄ λ‹¤μµμ¤νΈλΌμ™€ λΉ„κµν–μ„ λ• λ°©λ¬Έμ²λ¦¬ λ¦¬μ¤νΈμΈ usedλ°°μ—΄μ„ μ“°μ§€ μ•μ
- heapμ‚¬μ©μ„ ν†µν•΄ λ‹¤μ λ°©λ¬Έ λ…Έλ“λ¥Ό μ„¤μ •ν•λ” ν•¨μλ¥Ό μ‘μ„±ν•μ§€ μ•μ•„λ„ λ¨.




